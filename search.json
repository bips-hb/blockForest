[{"path":"https://bips-hb.github.io/blockForest/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Marvin N. Wright. Maintainer.","code":""},{"path":"https://bips-hb.github.io/blockForest/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Hornung R, Wright MN (2026). blockForest: Block Forests: Random Forests Blocks Clinical Omics Covariate Data. R package version 0.2.6, https://github.com/bips-hb/blockForest.","code":"@Manual{,   title = {blockForest: Block Forests: Random Forests for Blocks of Clinical and Omics Covariate Data},   author = {Roman Hornung and Marvin N. Wright},   year = {2026},   note = {R package version 0.2.6},   url = {https://github.com/bips-hb/blockForest}, }"},{"path":"https://bips-hb.github.io/blockForest/index.html","id":"blockforest-random-forests-for-blocks-of-clinical-and-omics-covariate-data","dir":"","previous_headings":"","what":"blockForest: Random Forests for Blocks of Clinical and Omics Covariate Data","title":"Block Forests: Random Forests for Blocks of Clinical and Omics Covariate Data","text":"Roman Hornung, Marvin N. Wright","code":""},{"path":"https://bips-hb.github.io/blockForest/index.html","id":"description","dir":"","previous_headings":"blockForest: Random Forests for Blocks of Clinical and Omics Covariate Data","what":"Description","title":"Block Forests: Random Forests for Blocks of Clinical and Omics Covariate Data","text":"random forest variant suitable prediction binary, survival continuous outcomes using multi-omics data, .e., data measurements different types omics data /clinical data patient exist. Examples include gene expression measurements, methylation measurements, copy number variation measurements.","code":""},{"path":"https://bips-hb.github.io/blockForest/index.html","id":"references","dir":"","previous_headings":"blockForest: Random Forests for Blocks of Clinical and Omics Covariate Data","what":"References","title":"Block Forests: Random Forests for Blocks of Clinical and Omics Covariate Data","text":"Hornung, R. & Wright, M. N. (2019). Block Forests: random forests blocks clinical omics covariate data. BMC Bioinformatics 20:358. https://doi.org/10.1186/s12859-019-2942-y. Wright, M. N. & Ziegler, . (2017). ranger: fast implementation random forests high dimensional data C++ R. J Stat Softw 77:1-17. https://doi.org/10.18637/jss.v077.i01. Breiman, L. (2001). Random forests. Mach Learn, 45:5-32. https://doi.org/10.1023/:1010933404324.","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/blockForest.html","id":null,"dir":"Reference","previous_headings":"","what":"blockForest — blockForest","title":"blockForest — blockForest","text":"Block forests without parameter tuning. Use blockfor standard interface. function called blockfor rarely considered directly user (since parameter tuning required applications).","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/blockForest.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"blockForest — blockForest","text":"","code":"blockForest(   formula = NULL,   data = NULL,   num.trees = 500,   mtry = NULL,   importance = \"none\",   write.forest = TRUE,   probability = FALSE,   min.node.size = NULL,   replace = TRUE,   sample.fraction = ifelse(replace, 1, 0.632),   case.weights = NULL,   splitrule = NULL,   num.random.splits = 1,   alpha = 0.5,   minprop = 0.1,   split.select.weights = NULL,   always.split.variables = NULL,   blocks = NULL,   block.method = \"BlockForest\",   block.weights = NULL,   respect.unordered.factors = NULL,   scale.permutation.importance = FALSE,   keep.inbag = FALSE,   holdout = FALSE,   quantreg = FALSE,   num.threads = NULL,   save.memory = FALSE,   verbose = TRUE,   seed = NULL,   dependent.variable.name = NULL,   status.variable.name = NULL,   classification = NULL )"},{"path":"https://bips-hb.github.io/blockForest/reference/blockForest.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"blockForest — blockForest","text":"formula Object class formula character describing model fit. Interaction terms supported numerical variables. data Training data class data.frame, matrix, dgCMatrix (Matrix) gwaa.data (GenABEL). num.trees Number trees. mtry either number specifying number variables sampled split variables (variants \"VarProb\" \"SplitWeights\") vector length equal number blocks, m-th entry vector gives number variables sample block m (variants \"BlockForest\", \"RandomBlock\", \"BlockVarSel\"). default values sqrt(p_1) + sqrt(p_2) + ... sqrt(p_M) (sqrt(p_1), sqrt(p_2), ..., sqrt(p_M)), respectively, p_m denotes number variables m-th block (m = 1, ..., M) sqrt() denoted square root function. importance Variable importance mode, one 'none', 'impurity', 'impurity_corrected', 'permutation'. 'impurity' measure Gini index classification, variance responses regression sum test statistics (see splitrule) survival. write.forest Save blockForest.forest object, required prediction. Set FALSE reduce memory usage prediction intended. probability Grow probability forest Malley et al. (2012). min.node.size Minimal node size. Default 1 classification, 5 regression, 3 survival, 10 probability. replace Sample replacement. sample.fraction Fraction observations sample. Default 1 sampling replacement 0.632 sampling without replacement. classification, can vector class-specific values. case.weights Weights sampling training observations. Observations larger weights selected higher probability bootstrap (subsampled) samples trees. splitrule Splitting rule, default \"extratrees\". options \"gini\" classification probability estimation, \"variance\", \"maxstat\" regression \"logrank\", \"C\" \"maxstat\" survival. num.random.splits \"extratrees\" splitrule.: Number random splits consider candidate splitting variable. alpha \"maxstat\" splitrule: Significance threshold allow splitting. minprop \"maxstat\" splitrule: Lower quantile covariate distribution considered splitting. split.select.weights Numeric vector weights 0 1, representing probability select variables splitting. Alternatively, list size num.trees, containing split select weight vectors tree can used. Use \"VarProb\" variant. always.split.variables Character vector variable names always selected addition mtry variables tried splitting. blocks Block memberships variables. See blockfor details. block.method Variant use. Options : \"BlockForest\" (default), \"RandomBlock\", \"BlockVarSel\", \"SplitWeights\". block.weights Tuning parameter values blocks variants. vector length equal number blocks list vectors containing tree-wise values. block.method='RandomBlock' block sample probabilities. respect.unordered.factors Handling unordered factor covariates. One 'ignore', 'order' 'partition'. \"extratrees\" splitrule default \"partition\" splitrules 'ignore'. Alternatively TRUE (='order') FALSE (='ignore') can used. See details. scale.permutation.importance Scale permutation importance standard error (Breiman 2001). applicable permutation variable importance mode selected. keep.inbag Save often observations -bag tree. holdout Hold-mode. Hold-samples case weight 0 use variable importance prediction error. quantreg Prepare quantile prediction quantile regression forests (Meinshausen 2006). Regression . Set keep.inbag = TRUE prepare --bag quantile prediction. num.threads Number threads. Default number CPUs available. save.memory Use memory saving (slower) splitting mode. effect survival GWAS data. Warning: option slows tree growing, use encounter memory problems. verbose Show computation status estimated runtime. seed Random seed. Default NULL, generates seed R. Set 0 ignore R seed. dependent.variable.name Name dependent variable, needed formula given. survival forests time variable. status.variable.name Name status variable, applicable survival data needed formula given. Use 1 event 0 censoring. classification needed data matrix. Set TRUE grow classification forest.","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/blockForest.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"blockForest — blockForest","text":"Object class blockForest elements forest Saved forest (write.forest set TRUE). Note variable IDs split.varIDs object necessarily represent column number R. predictions Predicted classes/values, based bag samples (classification regression ). variable.importance Variable importance independent variable. prediction.error Overall bag prediction error. classification fraction missclassified samples, probability estimation regression mean squared error survival one minus Harrell's C-index. r.squared R squared. Also called explained variance coefficient determination (regression ). Computed bag data. confusion.matrix Contingency table classes predictions based bag samples (classification ). unique.death.times Unique death times (survival ). chf Estimated cumulative hazard function sample (survival ). survival Estimated survival function sample (survival ). call Function call. num.trees Number trees. num.independent.variables Number independent variables. mtry Value mtry used. min.node.size Value minimal node size used. treetype Type forest/tree. classification, regression survival. importance.mode Importance mode used. num.samples Number samples. inbag.counts Number times observations -bag trees.","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/blockForest.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"blockForest — blockForest","text":"See blockfor ranger package.","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/blockForest.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"blockForest — blockForest","text":"Hornung, R. & Wright, M. N. (2019) Block Forests: random forests blocks clinical omics covariate data. BMC Bioinformatics 20:358. doi:10.1186/s12859-019-2942-y . Wright, M. N. & Ziegler, . (2017). ranger: Fast Implementation Random Forests High Dimensional Data C++ R. J Stat Softw 77:1-17. doi:10.18637/jss.v077.i01 . Schmid, M., Wright, M. N. & Ziegler, . (2016). use Harrell's C clinical risk prediction via random survival forests. Expert Syst Appl 63:450-459. doi:10.1016/j.eswa.2016.07.018 . Wright, M. N., Dankowski, T. & Ziegler, . (2017). Unbiased split variable selection random survival forests using maximally selected rank statistics. Stat Med. doi:10.1002/sim.7212 . Breiman, L. (2001). Random forests. Mach Learn, 45(1), 5-32. doi:10.1023/:1010933404324 . Ishwaran, H., Kogalur, U. B., Blackstone, E. H., & Lauer, M. S. (2008). Random survival forests. Ann Appl Stat 2:841-860. doi:10.1097/JTO.0b013e318233d835 . Malley, J. D., Kruppa, J., Dasgupta, ., Malley, K. G., & Ziegler, . (2012). Probability machines: consistent probability estimation using nonparametric learning machines. Methods Inf Med 51:74-81. doi:10.3414/ME00-01-0052 . Hastie, T., Tibshirani, R., Friedman, J. (2009). Elements Statistical Learning. Springer, New York. 2nd edition. Geurts, P., Ernst, D., Wehenkel, L. (2006). Extremely randomized trees. Mach Learn 63:3-42. doi:10.1007/s10994-006-6226-1 . Meinshausen (2006). Quantile Regression Forests. J Mach Learn Res 7:983-999. https://www.jmlr.org/papers/v7/meinshausen06a.html.","code":""},{"path":[]},{"path":"https://bips-hb.github.io/blockForest/reference/blockForest.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"blockForest — blockForest","text":"Marvin N. Wright","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/blockForest.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"blockForest — blockForest","text":"","code":"require(blockForest)  # Standard Block Forest blockForest(Species ~ ., iris,              blocks = list(1:2, 3:4),              mtry = c(1, 2),              block.weights = c(0.1, 0.9),              block.method = \"BlockForest\") #> blockForest result #>  #> Call: #>  blockForest(Species ~ ., iris, blocks = list(1:2, 3:4), mtry = c(1,      2), block.weights = c(0.1, 0.9), block.method = \"BlockForest\")  #>  #> Type:                             Classification  #> Number of trees:                  500  #> Sample size:                      150  #> Number of independent variables:  4  #> Mtry:                             1 2  #> Target node size:                 1  #> Variable importance mode:         none  #> OOB prediction error:             4.00 %   # Without blocks, grow standard random forest blockForest(Species ~ ., iris) #> blockForest result #>  #> Call: #>  blockForest(Species ~ ., iris)  #>  #> Type:                             Classification  #> Number of trees:                  500  #> Sample size:                      150  #> Number of independent variables:  4  #> Mtry:                             2  #> Target node size:                 1  #> Variable importance mode:         none  #> OOB prediction error:             4.67 %"},{"path":"https://bips-hb.github.io/blockForest/reference/blockfor.html","id":null,"dir":"Reference","previous_headings":"","what":"Random Forest variants for block-structured covariate data — blockfor","title":"Random Forest variants for block-structured covariate data — blockfor","text":"Implements five Random Forest variants prediction binary, survival metric outcomes using block-structured covariate data, example, clinical covariates plus measurements certain omics data type multi-omics data, , data measurements different types omics data /clinical data patient exist. example, task predicting survival patient might available clinical covariates, gene expression measurements, mutation data, copy number variation measurements.  group covariates corresponding one specific data type denoted 'block'.  NOTE: strongly recommend using variant \"BlockForest\" (\"block forest\") applications. four variants performed worse \"BlockForest\" analysis Hornung & Wright (2019). Using 20 real multi-omics data sets Hornung & Wright (2019) compared five variants alternatives, particular Random Survival Forest existing reference method. ranking performances five variants follows comparison study Hornung & Wright (2019): 1) \"BlockForest\", 2) \"RandomBlock\", 3) \"BlockVarSel\", 4) \"VarProb\", 5) \"SplitWeights\".  five variants uses different split selection algorithm. details, see Hornung & Wright (2019).  Note R package fork R package ranger.  NOTE ALSO: Including clinical block mandatorily split point selection can considerably improve prediction performance. Whether case, depends level predictive information contained clinical block. recommend trying including clinical block mandatorily see, whether improves prediction performance particular application. Note case including clinical block mandatorily one omics block, \"RandomBlock\" performed (slightly) better \"BlockForest\" comparison study Hornung & Wright (2019). Including clinical block mandatorily can performed setting function argument 'always.select.block' 'blockfor()' index clinical block (e.g., clinical block second block order, set always.select.block=2).","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/blockfor.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Random Forest variants for block-structured covariate data — blockfor","text":"","code":"blockfor(   X,   y,   blocks,   block.method = \"BlockForest\",   num.trees = 2000,   mtry = NULL,   nsets = 300,   num.trees.pre = 1500,   splitrule = \"extratrees\",   always.select.block = 0,   ... )"},{"path":"https://bips-hb.github.io/blockForest/reference/blockfor.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Random Forest variants for block-structured covariate data — blockfor","text":"X Covariate matrix. observations rows, variables columns. y Target variable. outcome binary, factor two levels. outcome metric, numeric vector. outcome survival outcome, matrix two columns, first column contains vector survival/censoring times (one observation) second column contains status variable, value '1' corresponding time survival time '0' time censoring time. blocks list length equal number M blocks considered. entry contains vector column indices 'X' covariates one M blocks. block.method Forest variant use. One following: \"BlockForest\" (default), \"RandomBlock\", \"BlockVarSel\", \"VarProb\", \"SplitWeights\". latter listing ordered according performances variants comparison study Hornung & Wright (2019), best variant listed first. num.trees Number trees forest. mtry either number specifying number variables sampled split variables (variants \"VarProb\" \"SplitWeights\") vector length equal number blocks, m-th entry vector gives number variables sample block m (variants \"BlockForest\", \"RandomBlock\", \"BlockVarSel\"). default values sqrt(p_1) + sqrt(p_2) + ... sqrt(p_M) (sqrt(p_1), sqrt(p_2), ..., sqrt(p_M)), respectively, p_m denotes number variables m-th block (m = 1, ..., M) sqrt() denoted square root function. nsets Number sets tuning parameter values generated randomly optimization tuning parameters. variant tuning parameter block, , M tuning parameters variant. tuning parameters optimized following way: 1. Generate random sets tuning parameter values measure adequateness: j = 1,..., nsets: ) Generate random set tuning parameter values; b) Construct forest (num.trees.pre trees) using set tuning parameter values generated ); c) Record --bag (OOB) estimated prediction error forest constructed b); 2. Use set tuning parameter values generated 1. associated smallest OOB estimated prediction error. num.trees.pre Number trees forest constructed optimization tuning parameter values, see 'nsets' details. splitrule Splitting rule. Default \"extratrees\" (computational efficiency). options see blockForest. always.select.block Number block make always available splitting (e.g. clinical covariates). ... Parameters passed blockForest, num.threads, etc. See blockForest details.","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/blockfor.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Random Forest variants for block-structured covariate data — blockfor","text":"blockfor returns list containing following components: forest object class \"blockForest\". Constructed forest. paramvalues vector length M. Optimized tuning parameter value block. biased_oob_error_donotuse numeric. OOB estimated prediction error. NOTE: estimate used, (highly) optimistic (.e, small), data set used twice - optimizing tuning parameter values estimating prediction error. Instead, cross-validation used estimate prediction error.","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/blockfor.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Random Forest variants for block-structured covariate data — blockfor","text":"Hornung, R. & Wright, M. N. (2019) Block Forests: random forests blocks clinical omics covariate data. BMC Bioinformatics 20:358. doi:10.1186/s12859-019-2942-y . Breiman, L. (2001). Random forests. Mach Learn, 45(1), 5-32. doi:10.1023/:1010933404324 . Wright, M. N. & Ziegler, . (2017). ranger: Fast Implementation Random Forests High Dimensional Data C++ R. J Stat Softw 77:1-17. doi:10.18637/jss.v077.i01 .","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/blockfor.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Random Forest variants for block-structured covariate data — blockfor","text":"Roman Hornung, Marvin N. Wright","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/blockfor.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Random Forest variants for block-structured covariate data — blockfor","text":"","code":"# NOTE: There is no association between covariates and response for the # simulated data below. # Moreover, the input parameters of blockfor() are highly unrealistic # (e.g., nsets = 10 is specified much too small). # The purpose of the shown examples is merely to illustrate the # application of blockfor().   # Generate data: ################  set.seed(1234)  # Covariate matrix: X <- cbind(matrix(nrow=40, ncol=5, data=rnorm(40*5)),             matrix(nrow=40, ncol=30, data=rnorm(40*30, mean=1, sd=2)),            matrix(nrow=40, ncol=100, data=rnorm(40*100, mean=2, sd=3)))  # Block variable (list): blocks <- rep(1:3, times=c(5, 30, 100)) blocks <- lapply(1:3, function(x) which(blocks==x))  # Binary outcome: ybin <- factor(sample(c(0,1), size=40, replace=TRUE), levels=c(0,1))  # Survival outcome: ysurv <- cbind(rnorm(40), sample(c(0,1), size=40, replace=TRUE))  # Application to binary outcome: ################################  blockforobj <- blockfor(X, ybin, num.trees = 100, replace = TRUE, blocks=blocks,                         nsets = 10, num.trees.pre = 50, splitrule=\"extratrees\",                          block.method = \"BlockForest\") # Tuning parameter estimates (see Hornung & Wright (2019)): blockforobj$paramvalues #> [1] 0.5601925 0.6284451 1.0000000  # Application to survival outcome: ##################################  blockforobj <- blockfor(X, ysurv, num.trees = 100, replace = TRUE, blocks=blocks,                         nsets = 10, num.trees.pre = 50, splitrule=\"extratrees\",                          block.method = \"BlockForest\") blockforobj$paramvalues #> [1] 1.00000000 0.05204839 0.91090475"},{"path":"https://bips-hb.github.io/blockForest/reference/predict.blockForest.html","id":null,"dir":"Reference","previous_headings":"","what":"Prediction using Random Forest variants for block-structured covariate data — predict.blockForest","title":"Prediction using Random Forest variants for block-structured covariate data — predict.blockForest","text":"function applied entry 'forest' output blockfor. See example section illustration.","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/predict.blockForest.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prediction using Random Forest variants for block-structured covariate data — predict.blockForest","text":"","code":"# S3 method for class 'blockForest' predict(   object,   data = NULL,   predict.all = FALSE,   num.trees = object$num.trees,   type = \"response\",   se.method = \"infjack\",   quantiles = c(0.1, 0.5, 0.9),   seed = NULL,   num.threads = NULL,   verbose = TRUE,   ... )"},{"path":"https://bips-hb.github.io/blockForest/reference/predict.blockForest.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prediction using Random Forest variants for block-structured covariate data — predict.blockForest","text":"object blockForest object. data New test data class data.frame gwaa.data (GenABEL). predict.Return individual predictions tree instead aggregated predictions trees. Return matrix (sample x tree) classification regression, 3d array probability estimation (sample x class x tree) survival (sample x time x tree). num.trees Number trees used prediction. first num.trees forest used. type Type prediction. One 'response', 'se', 'terminalNodes', 'quantiles' default 'response'. See details. se.method Method compute standard errors. One 'jack', 'infjack' default 'infjack'. applicable type = 'se'. See details. quantiles Vector quantiles quantile prediction. Set type = 'quantiles' use. seed Random seed. Default NULL, generates seed R. Set 0 ignore R seed. seed used case ties classification mode. num.threads Number threads. Default number CPUs available. verbose Verbose output . ... arguments passed methods.","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/predict.blockForest.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prediction using Random Forest variants for block-structured covariate data — predict.blockForest","text":"Object class blockForest.prediction elements","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/predict.blockForest.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Prediction using Random Forest variants for block-structured covariate data — predict.blockForest","text":"type = 'response' (default), predicted classes (classification), predicted numeric values (regression), predicted probabilities (probability estimation) survival probabilities (survival) returned. type = 'se', standard error predictions returned (regression ). jackknife--bootstrap infinitesimal jackknife bagging used estimate standard errors based --bag predictions. See Wager et al. (2014) details. type = 'terminalNodes', IDs terminal node tree observation given dataset returned. type = 'quantiles', selected quantiles observation estimated. See Meinshausen (2006) details. type = 'se' selected, method estimate variances can chosen se.method. Set se.method = 'jack' jackknife--bootstrap se.method = 'infjack' infinitesimal jackknife bagging. classification predict.= TRUE, factor levels returned numerics. retrieve corresponding factor levels, use rf$forest$levels, rf ranger object.","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/predict.blockForest.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Prediction using Random Forest variants for block-structured covariate data — predict.blockForest","text":"Wright, M. N. & Ziegler, . (2017). ranger: Fast Implementation Random Forests High Dimensional Data C++ R. J Stat Softw 77:1-17. doi:10.18637/jss.v077.i01 . Wager, S., Hastie T., & Efron, B. (2014). Confidence Intervals Random Forests: Jackknife Infinitesimal Jackknife. J Mach Learn Res 15:1625-1651. https://jmlr.org/papers/v15/wager14a.html. Meinshausen (2006). Quantile Regression Forests. J Mach Learn Res 7:983-999. https://www.jmlr.org/papers/v7/meinshausen06a.html.","code":""},{"path":[]},{"path":"https://bips-hb.github.io/blockForest/reference/predict.blockForest.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Prediction using Random Forest variants for block-structured covariate data — predict.blockForest","text":"Marvin N. Wright","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/predict.blockForest.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prediction using Random Forest variants for block-structured covariate data — predict.blockForest","text":"","code":"# NOTE: There is no association between covariates and response for the # simulated data below. # Moreover, the input parameters of blockfor() are highly unrealistic # (e.g., nsets = 10 is specified much too small). # The purpose of the shown examples is merely to illustrate the # application of predict.blockForest().   # Generate data: ################  set.seed(1234)  # Covariate matrix: X <- cbind(matrix(nrow=40, ncol=5, data=rnorm(40*5)),             matrix(nrow=40, ncol=30, data=rnorm(40*30, mean=1, sd=2)),            matrix(nrow=40, ncol=100, data=rnorm(40*100, mean=2, sd=3))) colnames(X) <- paste(\"X\", 1:ncol(X), sep=\"\")  # Block variable (list): block <- rep(1:3, times=c(5, 30, 100)) block <- lapply(1:3, function(x) which(block==x))  # Binary outcome: ybin <- factor(sample(c(0,1), size=40, replace=TRUE), levels=c(0,1))  # Survival outcome: ysurv <- cbind(rnorm(40), sample(c(0,1), size=40, replace=TRUE))    # Divide in training and test data:  Xtrain <- X[1:30,] Xtest <- X[31:40,]  ybintrain <- ybin[1:30] ybintest <- ybin[31:40]  ysurvtrain <- ysurv[1:30,] ysurvtest <- ysurv[31:40,]     # Binary outcome: Apply algorithm to training data and obtain predictions # for the test data: #########################################################################  # Apply a variant to the training data:  blockforobj <- blockfor(Xtrain, ybintrain, num.trees = 100, replace = TRUE, block=block,                         nsets = 10, num.trees.pre = 50, splitrule=\"extratrees\",                          block.method = \"SplitWeights\") blockforobj$paramvalues #> [1] 1.00000000 0.06193513 0.57704991   # Obtain prediction for the test data:  (predres <- predict(blockforobj$forest, data = Xtest, block.method = \"SplitWeights\")) #> blockForest prediction #>  #> Type:                             Classification  #> Sample size:                      10  #> Number of independent variables:  135  predres$predictions #>  [1] 0 0 0 0 0 0 0 0 0 0 #> Levels: 0 1    # Survival outcome: Apply algorithm to training data and obtain predictions # for the test data: ###########################################################################  # Apply a variant to the training data:  blockforobj <- blockfor(Xtrain, ysurvtrain, num.trees = 100, replace = TRUE, block=block,                         nsets = 10, num.trees.pre = 50, splitrule=\"extratrees\",                          block.method = \"SplitWeights\") blockforobj$paramvalues #> [1] 1.00000000 0.07620874 0.86167920   # Obtain prediction for the test data:  (predres <- predict(blockforobj$forest, data = Xtest, block.method = \"SplitWeights\")) #> blockForest prediction #>  #> Type:                             Survival  #> Sample size:                      10  #> Number of independent variables:  135  #> Number of unique death times:     30  rowSums(predres$chf) #>  [1] 12.156000 14.736000 13.539500 13.278667  9.685667 12.356167 12.604167 #>  [8] 14.348333 12.657833 14.365833"},{"path":"https://bips-hb.github.io/blockForest/reference/predictions.blockForest.html","id":null,"dir":"Reference","previous_headings":"","what":"blockForest predictions — predictions.blockForest","title":"blockForest predictions — predictions.blockForest","text":"Extract training data predictions blockForest object.","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/predictions.blockForest.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"blockForest predictions — predictions.blockForest","text":"","code":"# S3 method for class 'blockForest' predictions(x, ...)"},{"path":"https://bips-hb.github.io/blockForest/reference/predictions.blockForest.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"blockForest predictions — predictions.blockForest","text":"x blockForest object. ... arguments passed methods.","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/predictions.blockForest.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"blockForest predictions — predictions.blockForest","text":"Predictions: Classes Classification forests, Numerical values Regressions forests estimated survival functions individuals Survival forests.","code":""},{"path":[]},{"path":"https://bips-hb.github.io/blockForest/reference/predictions.blockForest.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"blockForest predictions — predictions.blockForest","text":"Marvin N. Wright","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/predictions.blockForest.prediction.html","id":null,"dir":"Reference","previous_headings":"","what":"blockForest predictions — predictions.blockForest.prediction","title":"blockForest predictions — predictions.blockForest.prediction","text":"Extract predictions blockForest prediction object.","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/predictions.blockForest.prediction.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"blockForest predictions — predictions.blockForest.prediction","text":"","code":"# S3 method for class 'blockForest.prediction' predictions(x, ...)"},{"path":"https://bips-hb.github.io/blockForest/reference/predictions.blockForest.prediction.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"blockForest predictions — predictions.blockForest.prediction","text":"x blockForest prediction object. ... arguments passed methods.","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/predictions.blockForest.prediction.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"blockForest predictions — predictions.blockForest.prediction","text":"Predictions: Classes Classification forests, Numerical values Regressions forests estimated survival functions individuals Survival forests.","code":""},{"path":[]},{"path":"https://bips-hb.github.io/blockForest/reference/predictions.blockForest.prediction.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"blockForest predictions — predictions.blockForest.prediction","text":"Marvin N. Wright","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/timepoints.blockForest.html","id":null,"dir":"Reference","previous_headings":"","what":"blockForest timepoints — timepoints.blockForest","title":"blockForest timepoints — timepoints.blockForest","text":"Extract unique death times blockForest Survival forest","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/timepoints.blockForest.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"blockForest timepoints — timepoints.blockForest","text":"","code":"# S3 method for class 'blockForest' timepoints(x, ...)"},{"path":"https://bips-hb.github.io/blockForest/reference/timepoints.blockForest.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"blockForest timepoints — timepoints.blockForest","text":"x blockForest Survival forest object. ... arguments passed methods.","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/timepoints.blockForest.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"blockForest timepoints — timepoints.blockForest","text":"Unique death times","code":""},{"path":[]},{"path":"https://bips-hb.github.io/blockForest/reference/timepoints.blockForest.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"blockForest timepoints — timepoints.blockForest","text":"Marvin N. Wright","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/timepoints.blockForest.prediction.html","id":null,"dir":"Reference","previous_headings":"","what":"blockForest timepoints — timepoints.blockForest.prediction","title":"blockForest timepoints — timepoints.blockForest.prediction","text":"Extract unique death times blockForest Survival prediction object.","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/timepoints.blockForest.prediction.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"blockForest timepoints — timepoints.blockForest.prediction","text":"","code":"# S3 method for class 'blockForest.prediction' timepoints(x, ...)"},{"path":"https://bips-hb.github.io/blockForest/reference/timepoints.blockForest.prediction.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"blockForest timepoints — timepoints.blockForest.prediction","text":"x blockForest Survival prediction object. ... arguments passed methods.","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/timepoints.blockForest.prediction.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"blockForest timepoints — timepoints.blockForest.prediction","text":"Unique death times","code":""},{"path":[]},{"path":"https://bips-hb.github.io/blockForest/reference/timepoints.blockForest.prediction.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"blockForest timepoints — timepoints.blockForest.prediction","text":"Marvin N. Wright","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/treeInfo.html","id":null,"dir":"Reference","previous_headings":"","what":"Tree information in human readable format — treeInfo","title":"Tree information in human readable format — treeInfo","text":"Extract tree information blockForest object.","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/treeInfo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tree information in human readable format — treeInfo","text":"","code":"treeInfo(object, tree = 1)"},{"path":"https://bips-hb.github.io/blockForest/reference/treeInfo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tree information in human readable format — treeInfo","text":"object blockForest object. tree Number tree interest.","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/treeInfo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tree information in human readable format — treeInfo","text":"data.frame columns","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/treeInfo.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Tree information in human readable format — treeInfo","text":"Node variable ID's 0-indexed, .e., node 0 root node. formula interface used blockForest call, variable ID's usually different original data used grow tree. Refer variable name instead sure. Splitting unordered factors (nominal variables) depends option respect.unordered.factors blockForest call. \"ignore\" \"order\" approaches, values smaller equal splitval value go left values larger go right, usual. However, \"order\" values correspond order object$forest$covariate.levels instead original order (usually alphabetical). \"partition\" mode, splitval values unordered factor comma separated lists values, representing factor levels (original order) going left.","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/treeInfo.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Tree information in human readable format — treeInfo","text":"Marvin N. Wright","code":""},{"path":"https://bips-hb.github.io/blockForest/reference/treeInfo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tree information in human readable format — treeInfo","text":"","code":"require(blockForest) rf <- blockForest(Species ~ ., data = iris) treeInfo(rf, 1) #>    nodeID leftChild rightChild splitvarID splitvarName splitval terminal #> 1       0         1          2          3 Petal.Length     2.45    FALSE #> 2       1        NA         NA         NA         <NA>       NA     TRUE #> 3       2         3          4          3 Petal.Length     4.75    FALSE #> 4       3        NA         NA         NA         <NA>       NA     TRUE #> 5       4         5          6          4  Petal.Width     1.75    FALSE #> 6       5         7          8          2  Sepal.Width     2.35    FALSE #> 7       6         9         10          1 Sepal.Length     5.95    FALSE #> 8       7        NA         NA         NA         <NA>       NA     TRUE #> 9       8        11         12          1 Sepal.Length     7.05    FALSE #> 10      9        13         14          1 Sepal.Length     5.85    FALSE #> 11     10        NA         NA         NA         <NA>       NA     TRUE #> 12     11        15         16          2  Sepal.Width     2.90    FALSE #> 13     12        NA         NA         NA         <NA>       NA     TRUE #> 14     13        NA         NA         NA         <NA>       NA     TRUE #> 15     14        NA         NA         NA         <NA>       NA     TRUE #> 16     15        17         18          2  Sepal.Width     2.75    FALSE #> 17     16        NA         NA         NA         <NA>       NA     TRUE #> 18     17        NA         NA         NA         <NA>       NA     TRUE #> 19     18        19         20          1 Sepal.Length     6.55    FALSE #> 20     19        NA         NA         NA         <NA>       NA     TRUE #> 21     20        NA         NA         NA         <NA>       NA     TRUE #>    prediction #> 1        <NA> #> 2      setosa #> 3        <NA> #> 4  versicolor #> 5        <NA> #> 6        <NA> #> 7        <NA> #> 8   virginica #> 9        <NA> #> 10       <NA> #> 11  virginica #> 12       <NA> #> 13  virginica #> 14  virginica #> 15 versicolor #> 16       <NA> #> 17 versicolor #> 18 versicolor #> 19       <NA> #> 20  virginica #> 21 versicolor"}]
